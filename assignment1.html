<!DOCTYPE html>
<html>
<head>
	<title>Assignment 1</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

	<style type="text/css">
			#listOfPersons
			{
				height:300px;
				border-left:1px solid #d4d4d4;
			}

			ul{
				list-style-type: none;
				padding-left: 0;
			}


	</style>
</head>
<body>
			
		<nav class="navbar navbar-inverse bg-inverse">
		  	<div class="container">
		  		<a class="navbar-brand" href="#">
			    Assignment 1 
			  	</a>
		  	</div>
		</nav>

		<div class="container">
			<div class="jumbotron">
				<div class="row">
						<div class="col-6">
						
					  		<div class="form-group">
					   			 <input autocomplete=off type="text" class="form-control" id="person"  placeholder="Enter new person">
					  		</div>
					 		<button id="addNewPerson" class="btn btn-primary">Add new person to list</button>
						

					</div>


				<div class="col-4" id="listOfPersons">
					<h4>List of Persons</h4>
					<small class="text-muted">Will appear below</small>
					<ul id="listPersons">
					</ul>

					
				
				</div>
			</div>	

		</div>
				
				

	</div>

	<script type="text/javascript">
			
		$(document).ready(function(){

			var persons = [];

			function person(name){
				this.name = name;
			}

			function addAndAppendName(name){
				var x = new person(name);
				persons.push(x);
				saveNames();
			}

			function getPerson(index){
				return persons[index];
			}


			getNames();
			listPersons();




			function listPersons(){
				var list="";

				for( var i in persons){
					var pName = persons[i].name;
					list += "<li>"+pName+"</li>";
				}
				$("#listPersons").html(list);
			}


			

		        $("#addNewPerson").click(function(){
		        	var val = $("#person").val();
		            addAndAppendName(val);
		            listPersons();
		        });
		   


		    function saveNames(){
		    	var str = JSON.stringify(persons);
		    	localStorage.setItem("persons", str);
		    }
		    function getNames(){
		    	var pStr = localStorage.getItem("persons");
		    	console.log(pStr);
		    	persons = JSON.parse(pStr);
		    	console.log(persons);
		    	if(!persons){
		    		persons = [];
		    	}

		    }

		   });


	</script>	

</body>
</html>